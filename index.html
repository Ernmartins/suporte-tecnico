<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Abertura de Ticket</title>
</head>
<body>

<h2>Abrir Novo Ticket</h2>

<form id="ticketForm">
  <input type="text" id="nome" placeholder="Seu nome" required><br>
  <textarea id="problema" placeholder="Descreva o problema" required></textarea><br>
  <button type="submit">Enviar Ticket</button>
</form>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAJe1ZqvaNG0y04PCU3PkUU2XebbI86lt4",
    authDomain: "ticket-helpdesk-a2dd8.firebaseapp.com",
    projectId: "ticket-helpdesk-a2dd8",
    storageBucket: "ticket-helpdesk-a2dd8.firebasestorage.app",
    messagingSenderId: "464766886414",
    appId: "1:464766886414:web:cd689936d78102b04b525f",
    measurementId: "G-9N8M2GXWMD"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // enviar ticket
  document.getElementById("ticketForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const nome = document.getElementById("nome").value;
    const problema = document.getElementById("problema").value;

    await db.collection("tickets").add({
      nome: nome,
      problema: problema,
      data: new Date()
    });

    alert("Ticket enviado!");
    document.getElementById("ticketForm").reset();
  });
</script>

</body>
</html>
